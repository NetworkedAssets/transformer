<form *ngIf="active" class="form-horizontal form-label-left" (ngSubmit)="onSubmit()" #userForm="ngForm" action="javascript:void(0)">
  <div class="form-group">
    <label class="control-label col-md-3 col-sm-3 col-xs-12">Username <span class="required">*</span>
    </label>
    <div class="col-md-6 col-sm-6 col-xs-12"
         tooltip
         [text]="(username.valid || !username.touched) ? null : 'This value is required'"
         [position]="'right'" [color]="'error'" [always]="true">
      <input [(ngModel)]="editedUser.username"
             (ngModelChange)="onEditingStarted()"
             #username="ngModel"
             name="username"
             type="text"
             class="form-control col-md-7 col-xs-12"
             [class.parsley-error]="!username.valid && username.touched"
             required
             [disabled]="!isNew">
    </div>
  </div>

  <div class="form-group" *ngIf="isNew">
    <label class="control-label col-md-3 col-sm-3 col-xs-12">
      Password <span class="required">*</span>
    </label>
    <div class="col-md-6 col-sm-6 col-xs-12"
         tooltip
         [text]="(password.valid || !password.touched) ? null : 'This value is required'"
         [position]="'right'" [color]="'error'" [always]="true">
      <input [(ngModel)]="editedUser.password"
             (ngModelChange)="onEditingStarted()"
             #password="ngModel"
             name="password"
             type="password"
             [placeholder]="''"
             class="form-control col-md-7 col-xs-12"
             [class.parsley-error]="!password.valid && password.touched"
             required>
    </div>
  </div>

  <div class="form-group" *ngIf="!isNew">
    <label class="control-label col-md-3 col-sm-3 col-xs-12">Password</label>
    <div class="col-md-6 col-sm-6 col-xs-12">
      <input [(ngModel)]="editedUser.password"
             (ngModelChange)="onEditingStarted()"
             #password="ngModel"
             name="password"
             type="password"
             [placeholder]="'(unchanged)'"
             class="form-control col-md-7 col-xs-12">
    </div>
  </div>

  <div class="ln_solid"></div>
  <div class="form-group">
    <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
      <button type="submit" class="btn btn-primary" [disabled]="!userForm.form.valid">Save
      </button>
      <button class="btn" (click)="cancelEdit()">Cancel</button>
    </div>
  </div>
</form>
